<!DOCTYPE html>
<html lang="{{ lang }}" data-theme="dark">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="dark light">

    <script>
      // åˆæœŸæç”»å‰ã«ãƒ†ãƒ¼ãƒžã‚’æ±ºå®šã—ã¦ FOUC ã‚’é˜²ã
      (() => {
        const stored = localStorage.getItem('theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = stored || (prefersDark ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>

    {% block ogp %}
    {% endblock %}

    <link rel="apple-touch-icon" sizes="180x180" href="{{ get_url(path="favicons/apple-touch-icon.png") }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ get_url(path="favicons/favicon-32x32.png") }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ get_url(path="favicons/favicon-16x16.png") }}">
    <link rel="manifest" href="{{ get_url(path="favicons/site.webmanifest") }}">

    <link rel="stylesheet" href="{{ get_url(path="base.css") }}">

    <title>{{ config.title }}</title>
  </head>

  <body>
    <header class="site-header">
      <h1><a href="{{ get_url(path="/") }}">{{ config.title }}</a></h1>
      <button id="theme-toggle" class="theme-toggle" type="button" aria-pressed="false" aria-label="ãƒ†ãƒ¼ãƒžåˆ‡æ›¿">ðŸŒ™</button>
    </header>

    <div class="container">
      <main>
        {% block content %}
        {% endblock %}
      </main>

      <nav>
        {% block sidemenu %}
        {% endblock %}
      </nav>
    </div>

    <script src="{{ get_url(path="js/theme.js") }}" defer></script>
  </body>

</html>
